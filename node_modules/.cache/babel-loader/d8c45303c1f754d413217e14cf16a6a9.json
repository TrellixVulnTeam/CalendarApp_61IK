{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\lucas\\\\OneDrive\\\\Desktop\\\\react2\\\\calendar-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\lucas\\\\OneDrive\\\\Desktop\\\\react2\\\\calendar-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\lucas\\\\OneDrive\\\\Desktop\\\\react2\\\\calendar-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\lucas\\\\OneDrive\\\\Desktop\\\\react2\\\\calendar-app\\\\src\\\\components\\\\calendar\\\\CalendarModal.js\";\n\nimport React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport moment from \"moment\";\nimport DateTimePicker from 'react-datetime-picker';\nimport Swal from \"sweetalert2\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uiCloseModal } from '../../actions/ui';\nimport { eventAddNew } from '../../actions/events';\nvar customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nModal.setAppElement('#root');\nvar now = moment().minutes(0).seconds(0).add(1, \"hours\");\nvar nowTwo = now.clone().add(1, \"hours\");\nexport var CalendarModal = function CalendarModal() {\n  var initEvento = {\n    title: \"\",\n    notes: \"\",\n    start: now.toDate(),\n    end: nowTwo.toDate()\n  };\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.ui;\n  }),\n      modalOpen = _useSelector.modalOpen;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      titleValid = _useState2[0],\n      setTitleValid = _useState2[1];\n\n  var handleSubmitForm = function handleSubmitForm(e) {\n    e.preventDefault();\n    var momentStart = moment(start);\n    var momentEnd = moment(end);\n\n    if (momentStart.isSameOrAfter(momentEnd)) {\n      Swal.fire(\"error\", \"la fecha fin debe ser mayor que la de inicio\");\n      return;\n    }\n\n    if (title.trim().length < 2) {\n      return setTitleValid(false);\n    }\n\n    dispatch(eventAddNew(_objectSpread({}, formValues, {\n      id: new Date().getTime(),\n      user: {\n        _id: \"1234\",\n        name: \"Lucas\"\n      }\n    })));\n    setTitleValid(true);\n    closeModal();\n  };\n\n  var _useState3 = useState({\n    title: \"evento\",\n    notes: \"\",\n    start: now.toDate(),\n    end: nowTwo.toDate()\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formValues = _useState4[0],\n      setFormValues = _useState4[1];\n\n  var notes = formValues.notes,\n      title = formValues.title,\n      start = formValues.start,\n      end = formValues.end;\n\n  var handleInputChange = function handleInputChange(_ref) {\n    var target = _ref.target;\n    setFormValues(_objectSpread({}, formValues, _defineProperty({}, target.name, target.value)));\n  };\n\n  var _useState5 = useState(now.toDate()),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dateStart = _useState6[0],\n      setDateStart = _useState6[1];\n\n  var _useState7 = useState(nowTwo.toDate()),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dateEnd = _useState8[0],\n      setDateEnd = _useState8[1];\n\n  var handleEndDateChange = function handleEndDateChange(e) {\n    setDateEnd(e);\n    setFormValues(_objectSpread({}, formValues, {\n      end: e\n    }));\n  };\n\n  var handleStartDateChange = function handleStartDateChange(e) {\n    setDateStart(e);\n    setFormValues(_objectSpread({}, formValues, {\n      start: e\n    }));\n  };\n\n  var closeModal = function closeModal() {\n    dispatch(uiCloseModal());\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalOpen //onAfterOpen={afterOpenModal}\n    ,\n    onRequestClose: closeModal,\n    style: customStyles,\n    closeTimeoutMS: 100,\n    className: \"modal\",\n    overlayClassName: \"modal-fondo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \" Nuevo evento \"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"container\",\n    onSubmit: handleSubmitForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \"Fecha y hora inicio\"), /*#__PURE__*/React.createElement(DateTimePicker, {\n    onChange: handleStartDateChange,\n    value: dateStart,\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"Fecha y hora fin\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    placeholder: \"Fecha fin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DateTimePicker, {\n    onChange: handleEndDateChange,\n    value: dateEnd,\n    minDate: dateStart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, \"Titulo y notas\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control \".concat(!titleValid && \"is-invalid\"),\n    placeholder: \"T\\xEDtulo del evento\",\n    name: \"title\",\n    autoComplete: \"off\",\n    value: title,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    id: \"emailHelp\",\n    className: \"form-text text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, \"Una descripci\\xF3n corta\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Notas\",\n    rows: \"5\",\n    name: \"notes\",\n    value: notes,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    id: \"emailHelp\",\n    className: \"form-text text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, \"Informaci\\xF3n adicional\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-outline-primary btn-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-save\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, \" Guardar\"))));\n};","map":{"version":3,"sources":["C:/Users/lucas/OneDrive/Desktop/react2/calendar-app/src/components/calendar/CalendarModal.js"],"names":["React","useState","Modal","moment","DateTimePicker","Swal","useDispatch","useSelector","uiCloseModal","eventAddNew","customStyles","content","top","left","right","bottom","marginRight","transform","setAppElement","now","minutes","seconds","add","nowTwo","clone","CalendarModal","initEvento","title","notes","start","toDate","end","dispatch","state","ui","modalOpen","titleValid","setTitleValid","handleSubmitForm","e","preventDefault","momentStart","momentEnd","isSameOrAfter","fire","trim","length","formValues","id","Date","getTime","user","_id","name","closeModal","setFormValues","handleInputChange","target","value","dateStart","setDateStart","dateEnd","setDateEnd","handleEndDateChange","handleStartDateChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Modal from 'react-modal';\r\nimport moment from \"moment\";\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Swal from \"sweetalert2\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport { eventAddNew } from '../../actions/events';\r\n\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n      top: '50%',\r\n      left: '50%',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      marginRight: '-50%',\r\n      transform: 'translate(-50%, -50%)',\r\n    },\r\n  };\r\n  \r\n  Modal.setAppElement('#root');\r\n\r\n  const now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\n  const nowTwo=now.clone().add(1, \"hours\");\r\n\r\nexport const CalendarModal = () => {\r\n\r\n    const initEvento = \r\n        {\r\n            title: \"\",\r\n            notes: \"\",\r\n            start: now.toDate(),\r\n            end: nowTwo.toDate()\r\n    \r\n        }\r\n    \r\n\r\nconst dispatch = useDispatch()\r\nconst {modalOpen}= useSelector(state => state.ui)\r\n\r\n  const [titleValid, setTitleValid] = useState(true)\r\n\r\n\r\n    const handleSubmitForm = (e) => {\r\n        e.preventDefault();\r\n\r\n        const momentStart = moment( start );\r\n        const momentEnd = moment ( end );\r\n\r\n        if (momentStart.isSameOrAfter(momentEnd)){\r\n            Swal.fire(\"error\", \"la fecha fin debe ser mayor que la de inicio\")\r\n            return;\r\n        }\r\n\r\n        if (title.trim().length < 2) {\r\n            \r\n            return setTitleValid(false);\r\n        }\r\n\r\n        dispatch(eventAddNew({\r\n            ...formValues,\r\n            id: new Date().getTime(),\r\n            user: {\r\n            _id: \"1234\",\r\n            name: \"Lucas\"    \r\n            }\r\n        }));\r\n        setTitleValid(true)\r\n        closeModal();\r\n    }\r\n\r\n    const [formValues, setFormValues] = useState({\r\n        title: \"evento\",\r\n        notes: \"\",\r\n        start: now.toDate(),\r\n        end: nowTwo.toDate()\r\n\r\n    })\r\n\r\n    const { notes, title , start , end } = formValues;\r\n\r\n    const handleInputChange  = ({target}) => {\r\n\r\n\r\n            setFormValues({\r\n                ...formValues,\r\n                [target.name]: target.value\r\n            });\r\n    }\r\n\r\n    const [dateStart, setDateStart] = useState(now.toDate())\r\n    const [dateEnd, setDateEnd] = useState(nowTwo.toDate())\r\n\r\n    const handleEndDateChange = (e ) => {\r\n        setDateEnd(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            end:e\r\n        })\r\n    }\r\n\r\n    const handleStartDateChange = (e) =>{\r\n       setDateStart(e);\r\n       setFormValues({\r\n        ...formValues,\r\n        start:e\r\n    })\r\n    }\r\n\r\n\r\n    const closeModal = () => {\r\n        dispatch(uiCloseModal());\r\n    }\r\n  return (\r\n    <Modal\r\n        isOpen={modalOpen}\r\n        //onAfterOpen={afterOpenModal}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={100}\r\n        className=\"modal\"\r\n        overlayClassName=\"modal-fondo\">\r\n\r\n\r\n        <h1> Nuevo evento </h1>\r\n    <hr />\r\n    <form className=\"container\"\r\n    onSubmit={handleSubmitForm}\r\n    >\r\n\r\n    <div className=\"form-group\">\r\n        <label>Fecha y hora inicio</label>\r\n        <DateTimePicker onChange={handleStartDateChange} value={dateStart}\r\n        className=\"form-control\" />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label>Fecha y hora fin</label>\r\n        <input className=\"form-control\" placeholder=\"Fecha fin\"/>\r\n        <DateTimePicker\r\n        onChange={handleEndDateChange} \r\n        value={dateEnd}\r\n        minDate={dateStart}\r\n        />\r\n    </div>\r\n\r\n    <hr />\r\n    <div className=\"form-group\">\r\n        <label>Titulo y notas</label>\r\n        <input \r\n            type=\"text\" \r\n            className={`form-control ${!titleValid  && \"is-invalid\"}`}\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={title}\r\n            onChange={handleInputChange}\r\n        />\r\n        <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <textarea \r\n            type=\"text\" \r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value= {notes}\r\n            onChange={handleInputChange}\r\n        ></textarea>\r\n        <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n    </div>\r\n\r\n    <button\r\n        type=\"submit\"\r\n        className=\"btn btn-outline-primary btn-block\"\r\n    >\r\n        <i className=\"far fa-save\"></i>\r\n        <span> Guardar</span>\r\n    </button>\r\n\r\n</form>\r\n        </Modal>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}